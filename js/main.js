var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};define("interface/Renderer",["require","exports"],function(e,t){"use strict";var n=function(){function e(){}return e.prototype.bind=function(e){this.node=e,this.onBind()},e.prototype.render=function(){this.node&&this.onRender()},e.prototype.onBind=function(){},e}();t.Renderer=n}),define("languages/English",["require","exports"],function(e,t){"use strict";var n;!function(e){e.strings={SELECT_MACHINE:"Machine Selection",DFA:"DFA",NFA:"NFA",PDA:"PDA",LBA:"LBA"}}(n=t.english||(t.english={}))}),define("Settings",["require","exports","languages/English"],function(e,t,n){"use strict";var i;!function(e){e.sidebarID="sidebar",e.mainbarID="mainbar",e.slideInterval=300,e.machineSelRows=2,e.machineSelColumns=2,e.stateLabelFontFamily="sans-serif",e.stateLabelFontSize=20,e.stateRadius=32,e.stateRingRadius=27,e.stateFillColor="white",e.stateStrokeColor="black",function(e){e[e.DFA=0]="DFA",e[e.NFA=1]="NFA",e[e.PDA=2]="PDA",e[e.LBA=3]="LBA"}(e.Machine||(e.Machine={}));var t=e.Machine;e.language=n.english,e.currentMachine=t.DFA,e.machines={},e.machines[t.DFA]={name:e.language.strings.DFA},e.machines[t.NFA]={name:e.language.strings.NFA},e.machines[t.PDA]={name:e.language.strings.PDA},e.machines[t.LBA]={name:e.language.strings.LBA}}(i=t.Settings||(t.Settings={})),t.Strings=i.language.strings}),define("interface/State",["require","exports","Settings"],function(e,t,n){"use strict";var i=function(){function e(){this.body=null,this.ring=null,this.name="",this.initial=!1,this.final=!1}return e.prototype.setPosition=function(e,t){this.x=e,this.y=t},e.prototype.setName=function(e){this.name=e},e.prototype.setInitial=function(e){this.initial=e},e.prototype.setFinal=function(e){this.final=e},e.prototype.isFinal=function(){return this.final},e.prototype.render=function(e){this.body?this.body.attr({cx:this.x,cy:this.y}):(this.body=e.circle(this.x,this.y,n.Settings.stateRadius),this.body.attr("fill",n.Settings.stateFillColor),this.body.attr("stroke",n.Settings.stateStrokeColor),e.text(this.x,this.y,this.name).attr({"font-family":n.Settings.stateLabelFontFamily,"font-size":n.Settings.stateLabelFontSize})),this.final?this.ring?this.ring.attr({cx:this.x,cy:this.y}):(this.ring=e.circle(this.x,this.y,n.Settings.stateRingRadius),this.ring.attr("stroke",n.Settings.stateStrokeColor)):this.ring&&(this.ring.remove(),this.ring=null)},e.prototype.html=function(){return this.body?this.body.node:null},e}();t.State=i}),define("interface/Mainbar",["require","exports","interface/Renderer","interface/State"],function(e,t,n,i){"use strict";var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onRender=function(){var e=this.node,t=Raphael(e,500,500),n=[new i.State,new i.State,new i.State];n[0].setPosition(120,120),n[0].setFinal(!0),n[1].setPosition(300,80),n[2].setPosition(340,320);for(var r=function(e){e.render(t),e.html().addEventListener("click",function(){e.setFinal(!e.isFinal()),e.render(t)})},s=0,a=n;s<a.length;s++){var o=a[s];r(o)}},t}(n.Renderer);t.Mainbar=r}),define("Utils",["require","exports"],function(e,t){"use strict";var n;!function(e){function t(e){return document.querySelector(e)}function n(e){return t("#"+e)}function i(e){return document.createElement(e)}function r(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}e.select=t,e.id=n,e.create=i,e.foreach=r}(n=t.utils||(t.utils={}))}),define("interface/Menu",["require","exports","interface/Renderer","Settings","Utils"],function(e,t,n,i,r){"use strict";var s=function(e){function t(t){e.call(this),this.title=t,this.children=[]}return __extends(t,e),t.prototype.add=function(e){this.children.push(e)},t.prototype.clear=function(){this.children=[]},t.prototype.onRender=function(){var e=this.node,t=r.utils.create("div");t.classList.add("menu");var n=r.utils.create("div");n.classList.add("title"),n.innerHTML=this.title,t.appendChild(n);var s=r.utils.create("div");s.classList.add("content");for(var a=0,o=this.children;a<o.length;a++){var c=o[a];s.appendChild(c)}t.appendChild(s),e.appendChild(t),n.addEventListener("click",function(){$(s).is(":animated")||$(s).slideToggle(i.Settings.slideInterval)})},t}(n.Renderer);t.Menu=s}),define("interface/Table",["require","exports","interface/Renderer","Utils"],function(e,t,n,i){"use strict";var r=function(e){function t(t,n){e.call(this),this.numRows=t,this.numColumns=n,this.children=[]}return __extends(t,e),t.prototype.add=function(e){this.children.push(e)},t.prototype.html=function(){for(var e=i.utils.create("table"),t=0,n=0;n<this.numRows;n++){for(var r=i.utils.create("tr"),s=0;s<this.numColumns;s++){var a=i.utils.create("td");t<this.children.length&&a.appendChild(this.children[t]),r.appendChild(a),t++}e.appendChild(r)}return e},t.prototype.onRender=function(){this.node.appendChild(this.html())},t}(n.Renderer);t.Table=r}),define("interface/Sidebar",["require","exports","interface/Menu","interface/Renderer","Settings","Settings","interface/Table","Utils"],function(e,t,n,i,r,s,a,o){"use strict";var c=function(e){function t(){e.call(this),this.machineSelection=new n.Menu(s.Strings.SELECT_MACHINE),this.temp=new n.Menu("TEMPORARY");var t=o.utils.create("span");t.innerHTML="Lorem ipsum dolor sit amet",this.temp.add(t)}return __extends(t,e),t.prototype.onBind=function(){this.machineSelection.bind(this.node),this.temp.bind(this.node)},t.prototype.onRender=function(){this.node.innerHTML="",this.build(),this.machineSelection.render(),r.Settings.currentMachine==r.Settings.Machine.DFA&&this.temp.render()},t.prototype.build=function(){var e=new a.Table(r.Settings.machineSelRows,r.Settings.machineSelColumns),t=this;o.utils.foreach(r.Settings.machines,function(n,i){var s=o.utils.create("input");s.type="button",s.value=i.name,s.disabled=n==r.Settings.currentMachine,s.addEventListener("click",function(){r.Settings.currentMachine=n,t.render()}),e.add(s)}),this.machineSelection.clear(),this.machineSelection.add(e.html())},t}(i.Renderer);t.Sidebar=c}),define("interface/UI",["require","exports","Settings","Utils"],function(e,t,n,i){"use strict";var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.bindSidebar(e[0]),this.bindMain(e[1])}return e.prototype.render=function(){this.sidebarRenderer&&this.sidebarRenderer.render(),this.mainRenderer&&this.mainRenderer.render(),console.log("Interface ready.")},e.prototype.bindSidebar=function(e){e&&e.bind(i.utils.id(n.Settings.sidebarID)),this.sidebarRenderer=e},e.prototype.bindMain=function(e){e&&e.bind(i.utils.id(n.Settings.mainbarID)),this.mainRenderer=e},e}();t.UI=r}),define("main",["require","exports","interface/Mainbar","interface/Sidebar","interface/UI"],function(e,t,n,i,r){"use strict";$(document).ready(function(){var e=new r.UI(new i.Sidebar,new n.Mainbar);e.render()})});